<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>galeria</title>
    <link rel="stylesheet" href="styl3.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon"/>
</head>

<body>
    <div>
        <div class="all">
            <img id="left" src="grafika/arrow.png" style="transform: scaleX(-1);">
            <img class="shibas" src="grafika/shiba1.png" index=1>
            <img class="shibas" src="grafika/shiba2.png" index=2>
            <img class="shibas" src="grafika/shiba3.png" index=3>
            <img class="shibas" src="grafika/shiba4.png" index=4 style="display: none;">
            <img class="shibas" src="grafika/shiba5.png" index=5 style="display: none;">
            <img id="right" src="grafika/arrow.png">
        </div>
        <div class="output">
            <img id="left1" src="grafika/arrow.png" style="transform: scaleX(-1);">
            <img class="shibas" id="shibas" src="grafika/shiba1.png" index=0>
            <img id="right1" src="grafika/arrow.png">
        </div>
    </div>

    <script>
        var shibas = document.querySelectorAll(".shibas");
        // console.log(shibas);
        var output = document.getElementById("shibas");
        var left = document.getElementById("left");
        var right = document.getElementById("right");
        var left1 = document.getElementById("left1");
        var right1 = document.getElementById("right1");
        var first = 0;
        var last = 2;

        function chgOutput(shiba, i) {
            output.src = shiba.src;
            output.setAttribute('index', i);
        }

        for (var i = 0; i < shibas.length; i++) {
            shibas[i].onclick = function () {
                chgOutput(this, this.getAttribute('index'))
            }
        }

        function goLeft() {
            if(first == 0)
                return
            else{
                shibas[--first].style.display = "inline"
                shibas[last--].style.display = "none"
            }

        }
        function goRight() {
            if(last == shibas.length-2)
                return
            else{
                shibas[++last].style.display = "inline"
                shibas[first++].style.display = "none"
            }
        }
        function goLeft1() {
            var tmp = output.getAttribute('index')
            if (tmp == 0) {
                chgOutput(shibas[shibas.length - 1], shibas.length - 1);
            } else {
                chgOutput(shibas[tmp - 1], tmp - 1);
            }
        }

        function goRight1() {
            var tmp = output.getAttribute('index')
            if (tmp == shibas.length - 1) {
                chgOutput(shibas[0], 0);
            } else {
                chgOutput(shibas[parseInt(tmp) + 1], parseInt(tmp) + 1);
            }
        }
        left.onclick = goLeft;
        right.onclick = goRight;
        left1.onclick = goLeft1;
        right1.onclick = goRight1;
    </script>
</body>

</html>